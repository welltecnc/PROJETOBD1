/* CRIANDO O BANCO DADOS DE UMA LIVRARIA -28/09/2020*/

CREATE DATABASE LIVRARIADB;

/*USANDO O BANCO DADOS DE UMA LIVRARIA */

USE LIVRARIADB;

/* CRIANDO AS TABELAS DP BANCO*/

CREATE TABLE LIVRO (
ID_LIVRO INT,
ID_EDITORA INT,
NOME_LIVRO VARCHAR(50),
PRECO DOUBLE
);

CREATE TABLE EDITORA(
ID_EDITORA INT,
NOME_EDITORA VARCHAR(50)
);

SELECT * FROM LIVRO;
SELECT * FROM EDITORA;

DROP TABLE LIVRO ;
/*INSERINDO INFORMAÇÕES NAS TABELAS */

INSERT INTO LIVRO(ID_LIVRO,ID_EDITORA,NOME_LIVRO, PRECO) VALUES(1,1,'STARS WARS',100.00);
INSERT INTO LIVRO(ID_LIVRO,ID_EDITORA,NOME_LIVRO, PRECO) VALUES(2,2,'MINDSET',70.00);
INSERT INTO LIVRO(ID_LIVRO,ID_EDITORA,NOME_LIVRO, PRECO) VALUES(3,1,'PORTOES DO INFERNO',30.00);
INSERT INTO LIVRO(ID_LIVRO,ID_EDITORA,NOME_LIVRO, PRECO) VALUES(4,2,'CREPUSCULO',30.00);
INSERT INTO LIVRO(ID_LIVRO,ID_EDITORA,NOME_LIVRO, PRECO) VALUES(5,1,'ARTE DA GUERRA',20.00);
INSERT INTO LIVRO(ID_LIVRO,ID_EDITORA,NOME_LIVRO, PRECO) VALUES(6,2,'OS MISSERAVEIS',30.00);

INSERT INTO EDITORA(ID_EDITORA, NOME_EDITORA)VALUES (1,'SARAIVA');
INSERT INTO EDITORA(ID_EDITORA, NOME_EDITORA)VALUES (2,'WELLCITY');


DROP PROCEDURE VERPRECO

/*CRIANDO A PROCEDURE QUE TRAZ O NOME E O PRECO CONCATENADO  */

DELIMITER  $$
CREATE PROCEDURE VERPRECO(vlivro int)

BEGIN
SELECT CONCAT('O PREÇO   ',NOME_LIVRO, '  É  ' , PRECO, ' REAIS') AS PREÇO_LIVRO
FROM LIVRO 
WHERE ID_LIVRO = vlivro;
END  $$




CALL VERPRECO(6)